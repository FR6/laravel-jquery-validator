(function(d){d.fn.validator=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return e.make.apply(this,arguments);d.error("Method "+a+" does not exist on jQuery.validator")};var e={make:function(a){"undefined"===typeof a&&d.error("jQuery.validator may not be intialized without options.");a.events=a.events.replace(/(\w+)/g,"$1.validator ");this.each(function(){d(this).on(a.events,function(b){var c=f.validate(a.selector||this,a.callback);
(!c&&a.preventDefaultIfInvalid||a.preventDefault)&&b.preventDefault();a.done(c)})})},destroy:function(){this.each(function(){d(this).off(".validator")})}},f={parseRules:function(a){var b=[];d.each(a.split("|"),function(a,d){rule=d.split(":");b.push({method:"validate_"+rule[0],params:rule[1]?rule[1].split(","):[]})});return b},validate:function(a,b){var c=!0;d(a).each(function(){var a=d(this).data("validations");if(!a)return!0;var e=d(this).attr("name"),h=d(this).val(),a=f.parseRules(a),g=!0;d.each(a,
function(a,b){if(!f.validatable(b,e,h))return!0;g&=f[b.method]?f[b.method](e,h,b.params):0});b(this,g);c&=g});return c},validatable:function(a,b,c){return this.validate_required(b,c)||this.implicit(a)},implicit:function(a){return"validate_required"===a.method||"validate_required_with"===a.method||"validate_accepted"===a.method},size:function(a,b){return this.validate_numeric(a,b)?b:b.length},validate_match:function(a,b,c){c instanceof Array||(c=[c]);a=c[0];a instanceof RegExp||(a=a.replace(/\/?([^\/]*)\/?/,
"$1"),a=RegExp(a));return null!=b.match(a)},validate_required:function(a,b){return this.validate_match(a,b,/[^\s]+/)},validate_required_with:function(a,b,c){return this.validate_required(c[0],d("[name="+c[0]+"]").val())?this.validate_required(a,b):!0},validate_confirmed:function(a,b){return this.validate_same(a,b,[a+"_confirmation"])},validate_accepted:function(a,b){return this.validate_match(a,b,/^(yes|1)$/)},validate_same:function(a,b,c){return b===d("[name="+c[0]+"]").val()},validate_different:function(a,
b,c){return b!==d("[name="+c[0]+"]").val()},validate_numeric:function(a,b){return this.validate_match(a,b,/^\d+(\.\d*)?$/)},validate_integer:function(a,b){return this.validate_match(a,b,/^\d+$/)},validate_size:function(a,b,c){return this.size(a,b)==c[0]},validate_between:function(a,b,c){a=this.size(a,b);return a>=c[0]&&a<=c[1]},validate_min:function(a,b,c){return this.size(a,b)>=c[0]},validate_max:function(a,b,c){return this.size(a,b)<=c[0]},validate_in:function(a,b,c){return 0<=d.inArray(b,c)},validate_not_in:function(a,
b,c){return 0>d.inArray(b,c)},validate_unique:function(){return!0},validate_exists:function(){return!0},validate_ip:function(a,b){var c=b.split(".");return 4===c.length&&this.validate_between(a,c[0],[1,255])&&this.validate_between(a,c[1],[0,255])&&this.validate_between(a,c[2],[0,255])&&this.validate_between(a,c[3],[1,255])?!0:!1},validate_email:function(a,b){return this.validate_match(a,b,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)},validate_url:function(a,b){return this.validate_match(a,b,/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i)},
validate_active_url:function(a,b){return this.validate_url(a,b)},validate_image:function(a,b){return this.validate_mimes(a,b,["jpg","png","gif","bmp"])},validate_alpha:function(a,b){return this.validate_match(a,b,/^([a-z])+$/i)},validate_alpha_num:function(a,b){return this.validate_match(a,b,/^([a-z0-9])+$/i)},validate_alpha_dash:function(a,b){return this.validate_match(a,b,/^([-a-z0-9_-])+$/i)},validate_mimes:function(a,b,c){for(var d=0;d<c.length;d++)if(this.validate_match(a,b,RegExp("\\."+c[d]+
"$")))return!0;return!1},validate_before:function(a,b,c){return Date.parse(b)<Date.parse(c[0])},validate_after:function(a,b,c){return Date.parse(b)>Date.parse(c[0])}}})(jQuery);
