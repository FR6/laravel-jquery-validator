(function(a){var b=".validator";var c={events:null,selector:null,preventDefault:false,preventDefaultIfInvalid:false,callback:function(a){}};a.fn.validator=function(c){if(d[c]){return d[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return d.make.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery"+b)}};var d={make:function(c){if(typeof c==="undefined"){a.error("jQuery"+b+" may not be intialized without options.")}c.events=c.events.replace(/(\w+)/g,"$1"+b+" ");this.each(function(){a(this).on(c.events,function(a){var b=e.validate(c.selector||this,c.callback);if(!b&&c.preventDefaultIfInvalid||c.preventDefault){a.preventDefault()}})})},destroy:function(){this.each(function(){a(this).off(b)})}};var e={parseRules:function(b){var c=[];a.each(b.split("|"),function(a,b){rule=b.split(":");c.push({method:"validate_"+rule[0],params:rule[1]?rule[1].split(","):[]})});return c},validate:function(b,c){var d=true;a(b).each(function(){var b=a(this).data("validations");if(!b){return true}var f=a(this).attr("name"),g=a(this).val(),h=e.parseRules(b),i=true;a.each(h,function(a,b){if(!e.validatable(b,f,g)){return true}i&=e[b.method]?e[b.method](f,g,b.params):false});c(this,i);d&=i});return d},validatable:function(a,b,c){return this.validate_required(b,c)||this.implicit(a)},implicit:function(a){return a.method==="validate_required"||a.method==="validate_required_with"||a.method==="validate_accepted"},size:function(a,b){if(this.validate_numeric(a,b))return b;return b.length},validate_match:function(a,b,c){if(!(c instanceof Array)){c=[c]}var d=c[0];if(!(d instanceof RegExp)){d=d.replace(/\/?([^\/]*)\/?/,"$1");d=new RegExp(d)}return b.match(d)!=null},validate_required:function(a,b){return this.validate_match(a,b,/[^\s]+/)},validate_required_with:function(b,c,d){if(this.validate_required(d[0],a("[name="+d[0]+"]").val())){return this.validate_required(b,c)}return true},validate_confirmed:function(a,b){return this.validate_same(a,b,[a+"_confirmation"])},validate_accepted:function(a,b){return this.validate_match(a,b,/^(yes|1)$/)},validate_same:function(b,c,d){return c===a("[name="+d[0]+"]").val()},validate_different:function(b,c,d){return c!==a("[name="+d[0]+"]").val()},validate_numeric:function(a,b){return this.validate_match(a,b,/^\d+(\.\d*)?$/)},validate_integer:function(a,b){return this.validate_match(a,b,/^\d+$/)},validate_size:function(a,b,c){return this.size(a,b)==c[0]},validate_between:function(a,b,c){var d=this.size(a,b);return d>=c[0]&&d<=c[1]},validate_min:function(a,b,c){return this.size(a,b)>=c[0]},validate_max:function(a,b,c){return this.size(a,b)<=c[0]},validate_in:function(b,c,d){return a.inArray(c,d)>=0},validate_not_in:function(b,c,d){return a.inArray(c,d)<0},validate_unique:function(a,b,c){return true},validate_exists:function(a,b,c){return true},validate_ip:function(a,b){var c=b.split(".");if(c.length===4&&this.validate_between(a,c[0],[1,255])&&this.validate_between(a,c[1],[0,255])&&this.validate_between(a,c[2],[0,255])&&this.validate_between(a,c[3],[1,255])){return true}return false},validate_email:function(a,b){return this.validate_match(a,b,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)},validate_url:function(a,b){return this.validate_match(a,b,/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i)},validate_active_url:function(a,b){return this.validate_url(a,b)},validate_image:function(a,b,c){return this.validate_mimes(a,b,["jpg","png","gif","bmp"])},validate_alpha:function(a,b,c){return this.validate_match(a,b,/^([a-z])+$/i)},validate_alpha_num:function(a,b,c){return this.validate_match(a,b,/^([a-z0-9])+$/i)},validate_alpha_dash:function(a,b,c){return this.validate_match(a,b,/^([-a-z0-9_-])+$/i)},validate_mimes:function(a,b,c){for(var d=0;d<c.length;d++){var e=new RegExp("\\."+c[d]+"$");if(this.validate_match(a,b,e)){return true}}return false},validate_before:function(a,b,c){return Date.parse(b)<Date.parse(c[0])},validate_after:function(a,b,c){return Date.parse(b)>Date.parse(c[0])}}})(jQuery)